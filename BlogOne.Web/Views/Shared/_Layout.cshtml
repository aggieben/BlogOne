@using StackExchange.Profiling;
@{
    var profiler = MiniProfiler.Current;
}
<!DOCTYPE html>
<html>
<head>
    @using (profiler.Step("header stuff"))
    {
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
        <title>@ViewBag.Title - Ben Collins</title>
        @RenderSection("head", required: false);
        @Styles.Render("~/bundles/css")
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/modernizr")
        @Scripts.Render("~/Scripts/stringformat.js")
        @Scripts.Render("~/Scripts/utility.js")
        @Scripts.Render("~/Scripts/svg-injector.min.js")
    }
</head>
<body>
    <div class="container">        
        <section class="left-sidebar">
            @using (profiler.Step("left section"))
            {
                <div class="tile" data-href="/about" title="about">
                    <img src="~/Content/img/headshot-greyscale.jpg"/>
                </div>
                <div class="green tile" data-href="/" title="home">
                    <img class="inject" src="~/Content/img/open-iconic/home.svg" alt="home"/>
                </div>
                <div class="red tile" data-href="/archive" title="archive">
                    <img class="inject" src="~/Content/img/open-iconic/box.svg" alt="box" />
                </div>
                <div class="blue tile" data-href="/projects" title="projects">
                    <img class="inject" src="~/Content/img/open-iconic/beaker.svg" alt="beaker"/>
                </div>
                @RenderSection("left", required: false)
            }
        </section>
        <main class="body-content" role="main">
            @using (profiler.Step("RenderBody"))
            {
                @RenderBody()
            }
        </main>
        <section class="right-sidebar">
            @using (profiler.Step("right section"))
            {
                @RenderSection("right", required: false)
            }
        </section>
    </div>

    @RenderSection("scripts", required: false)
    @if (Request.IsAuthenticated)
    {
        @MiniProfiler.RenderIncludes(position: RenderPosition.Right)
    }
    @Scripts.Render("~/Scripts/navigation.js")
    <script type="text/javascript">
        $(function() {
            var svgs = document.querySelectorAll('img.inject');
            SVGInjector(svgs);

            $('.tile').on('click', function() {
                window.location.href = $(this).data('href');
            });
        })
    </script>
</body>
</html>
